import{b as h}from"./assets/data-BfSpglk-.js";const r="https://uswheels-proxy.vercel.app/api",a=document.getElementById("search-button");function g(){const n=document.getElementById("year-dropdown");fetch(`${r}/years`).then(t=>t.json()).then(t=>{t.data.forEach(e=>{const d=document.createElement("option");d.value=e.slug,d.textContent=e.name,n.appendChild(d)})}).catch(t=>{console.error("Error fetching years:",t)}),n.addEventListener("change",()=>{E(n.value)})}function E(n){const t=document.getElementById("make-dropdown");t.innerHTML='<option value="" disabled selected>Loading...</option>',t.disabled=!0,fetch(`${r}/makes?year=${n}`).then(e=>e.json()).then(e=>{t.innerHTML='<option value="" disabled selected>Select a model</option>',t.disabled=!1,e.data.forEach(d=>{const o=document.createElement("option");o.value=d.slug,o.textContent=d.name,t.appendChild(o)})}).catch(e=>{modelDropdown.innerHTML='<option value="" disabled selected>Error fetching models</option>',console.error("Error fetching makes:",e)}),t.addEventListener("change",()=>{f(t.value,n)})}function f(n,t){const e=document.getElementById("model-dropdown");e.innerHTML='<option value="" disabled selected>Loading...</option>',e.disabled=!0,fetch(`${r}/models?year=${t}&make=${n}`).then(d=>d.json()).then(d=>{e.innerHTML='<option value="" disabled selected>Select a model</option>',e.disabled=!1,d.data.forEach(o=>{const l=document.createElement("option");l.value=o.slug,l.textContent=o.name,e.appendChild(l)})}).catch(d=>{console.error("Error fetching models:",d),e.innerHTML='<option value="" disabled selected>Error fetching models</option>'}),e.addEventListener("change",()=>{g(n,e.value)})}function i(){const n=document.getElementById("make-dropdown").value,t=document.getElementById("model-dropdown").value,e=document.getElementById("year-dropdown").value;n&&t&&e?(a.disabled=!1,a.style.cursor="pointer",a.style.opacity="1"):(a.disabled=!0,a.style.cursor="not-allowed",a.style.opacity="0.7")}document.getElementById("make-dropdown").addEventListener("change",i);document.getElementById("model-dropdown").addEventListener("change",i);document.getElementById("year-dropdown").addEventListener("change",i);a.addEventListener("click",function(){const n=document.getElementById("make-dropdown").value,t=document.getElementById("model-dropdown").value,e=document.getElementById("year-dropdown").value;if(n&&t&&e){const d=`${r}/searchByModel?make=${n}&model=${t}&year=${e}`;fetch(d).then(o=>o.json()).then(o=>{var l,m;if(o&&o.data&&o.data[0]){let c=((m=(l=o.data[0].technical)==null?void 0:l.bolt_pattern)==null?void 0:m.replace("x","X"))||"",s=[c];h[c]&&(s=[...s,...h[c]]);const p=[];c&&p.push(`bolt=${encodeURIComponent(s.join(","))}`);const u=`https://uswheelandtire.com/all-products?${p.join("&")}`;console.log("Redirecting to:",u),window.location.href=u}else console.error("No vehicle data found.")}).catch(o=>{console.error("Error fetching fitment details:",o)})}});document.addEventListener("DOMContentLoaded",g);
